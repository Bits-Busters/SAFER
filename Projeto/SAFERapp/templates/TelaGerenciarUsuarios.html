{% extends 'TopTemplate.html' %}

{% block extra_css %}
{% endblock %}

{% block title %}Gerenciador de Usuários{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Gerenciador de Usuários</h1>
    <!-- Exibe a lista de usuarios -->
    <ul class="list-group">
        {% for usuario in page_obj %}
            <li class="list-group-item">
                <button onclick="window.open('/editar_usuario/{{ usuario.email }}', '_blank')"
                style="width: 100%; height: 100%; border: none; background-color: #70C296; color: white; font-size: 16px; cursor: pointer;"
                >
                    <strong>Nome: {{ usuario.nome }} | Tipo: {{ usuario.tipo_usuario }}</strong><br>
                    Relação: {{ usuario.relacao_ufrpe }}<br>
                </button>
            </li>
        {% endfor %}
    </ul>

    <!-- Navegação de Paginação -->
    <div class="mt-3">
        <nav aria-label="Página de ocorrências">
            <ul class="pagination">
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page=1" aria-label="Primeira página">
                            <span aria-hidden="true">&laquo;&laquo;</span>
                        </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Página anterior">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                {% endif %}

                <li class="page-item disabled">
                    <span class="page-link">
                        Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}
                    </span>
                </li>

                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Próxima página">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Última página">
                            <span aria-hidden="true">&raquo;&raquo;</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}